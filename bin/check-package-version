#!/usr/bin/env node

var exec = require( 'child_process' ).exec;
var packageJsonPath = require( '../' + process.argv[2] );
var semver = require( 'semver' );

if ( packageJsonPath.private ) {
	process.exitCode = 0;
}

exec( 'npm view ' + packageJsonPath.name + ' version', function( error, stdout ) {
	if ( semver.gt( packageJsonPath.version, stdout ) ) {
		process.exitCode = 0;
	} else {
		process.exitCode = 1;
	}
} );
